"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[764],{2764:function(e,t,n){n.r(t);var r=n(3433),u=n(5861),a=n(9439),c=n(4687),s=n.n(c),o=n(2791),i=n(1686),f=n(3610),l=n(4672),p=n(3881),h=n.n(p),m=n(184);t.default=function(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],p=(0,o.useState)([]),v=(0,a.Z)(p,2),d=v[0],x=v[1],g=(0,o.useState)(1),b=(0,a.Z)(g,2),k=b[0],w=b[1],y=(0,o.useState)(!0),Z=(0,a.Z)(y,2),E=Z[0],S=Z[1];(0,o.useEffect)((function(){var e=h()((function(e){E||e.target.documentElement.scrollHeight-(e.target.documentElement.scrollTop+window.innerHeight)<200&&w((function(e){return e+1}))}),1e3);return document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}}),[E]),(0,o.useEffect)((function(){if(1!==k){var e=function(){var e=(0,u.Z)(s().mark((function e(t,n){var u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,(0,f.Ph)(n,t);case 4:0===(u=e.sent).results.length&&i.Notify.failure("We've found nothig by this query"),x((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(u.results))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}();e(k,n)}}),[k,n]);var j=function(){var e=(0,u.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.trim()){e.next=3;break}return e.abrupt("return",i.Notify.failure("query can't be empty"));case 3:return e.prev=3,w(1),e.next=7,(0,f.Ph)(n,1);case 7:r=e.sent,x(r.results),S(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),i.Notify.failure(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{onSubmit:j,children:[(0,m.jsx)("input",{onChange:function(e){return function(e){c(e.target.value)}(e)},name:"text"}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),(0,m.jsx)(l.Z,{movies:d})]})}}}]);
//# sourceMappingURL=764.a6b1d999.chunk.js.map